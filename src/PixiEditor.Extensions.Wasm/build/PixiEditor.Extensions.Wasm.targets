<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <ItemGroup>
    <WasiNativeFileReference Include="$(MSBuildThisFileDirectory)..\native\*.c" />
    <WasiAfterRuntimeLoaded Include="attach_internal_calls" />
  </ItemGroup>

  <Target Name="GenerateLayouts" AfterTargets="Build" Inputs="bin\Debug\$(TargetFramework)\PixiEditor.Extensions.Wasm.dll" Outputs="$(RootFolder)\Layouts\">
    <Exec  ConsoleToMSBuild="true"
          Command="..\PixiEditor.Extensions.MSBuildLayoutCompiler\bin\Debug\net8.0\PixiEditor.Extensions.MSBuildLayoutCompiler.exe $(OutputPath)\$(MSBuildProjectName).dll $(OutputPath)\Layouts\"/>
  </Target>

</Project>